-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'bd527d00e6ac6bde' HASH 'd6bae46c9a5c126de4d4c33f0df047cfe02834a54a02227671b3fbcaabdee635' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."ENTRY_HISTORY"(
    "DURATION_TIME" BIGINT NOT NULL,
    "ENTRY_HISTORY_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "SENIOR_ID" BIGINT,
    "PLACE" CHARACTER VARYING(255) NOT NULL
);         
ALTER TABLE "PUBLIC"."ENTRY_HISTORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ENTRY_HISTORY_ID");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ENTRY_HISTORY;           
CREATE CACHED TABLE "PUBLIC"."TEAM"(
    "TEAM_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) DEFAULT ON NULL NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL
);            
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("TEAM_ID");    
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.TEAM;    
INSERT INTO "PUBLIC"."TEAM" VALUES
(1, 'test1');             
CREATE CACHED TABLE "PUBLIC"."EXIT_HISTORY"(
    "EXIT_AT" TIMESTAMP(6) NOT NULL,
    "EXIT_HISTORY_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "SENIOR_ID" BIGINT
);         
ALTER TABLE "PUBLIC"."EXIT_HISTORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("EXIT_HISTORY_ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.EXIT_HISTORY;            
CREATE CACHED TABLE "PUBLIC"."MEMBER"(
    "CREATED_AT" TIMESTAMP(6) NOT NULL,
    "MEMBER_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "UPDATED_AT" TIMESTAMP(6) NOT NULL,
    "LOGIN_ID" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "PASSWORD" CHARACTER VARYING(255) NOT NULL,
    "PHONE_NUMBER" CHARACTER VARYING(255) NOT NULL,
    "TYPE" ENUM('FAMILY', 'SOCIAL_WORKER') NOT NULL
);        
ALTER TABLE "PUBLIC"."MEMBER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_87" PRIMARY KEY("MEMBER_ID");               
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.MEMBER;  
CREATE CACHED TABLE "PUBLIC"."MEMBER_SENIOR"(
    "MEMBER_ID" BIGINT,
    "MEMBER_SENIOR_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "SENIOR_ID" BIGINT
);    
ALTER TABLE "PUBLIC"."MEMBER_SENIOR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_39" PRIMARY KEY("MEMBER_SENIOR_ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.MEMBER_SENIOR;           
CREATE CACHED TABLE "PUBLIC"."QUALIFY_NUM"(
    "QUALIFY_NUM_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "QUALIFY_NUMBER" CHARACTER VARYING(255) NOT NULL
);   
ALTER TABLE "PUBLIC"."QUALIFY_NUM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_47" PRIMARY KEY("QUALIFY_NUM_ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.QUALIFY_NUM;             
CREATE CACHED TABLE "PUBLIC"."SCHEDULE"(
    "CREATE_AT" TIMESTAMP(6) NOT NULL,
    "SCHEDULE_AT" TIMESTAMP(6) NOT NULL,
    "SCHEDULE_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "SENIOR_ID" BIGINT,
    "MEMO" CHARACTER VARYING(255) NOT NULL
);        
ALTER TABLE "PUBLIC"."SCHEDULE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("SCHEDULE_ID");            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SCHEDULE;
CREATE CACHED TABLE "PUBLIC"."SENIOR"(
    "BIRTH" TIMESTAMP(6) NOT NULL,
    "CREATED_AT" TIMESTAMP(6) NOT NULL,
    "SENIOR_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) DEFAULT ON NULL NOT NULL,
    "UPDATED_AT" TIMESTAMP(6) NOT NULL,
    "ADDRESS" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "PHONE_NUMBER" CHARACTER VARYING(255) NOT NULL,
    "PROFILE_IMG" CHARACTER VARYING(255),
    "GENDER" ENUM('FEMALE', 'MALE') NOT NULL
);  
ALTER TABLE "PUBLIC"."SENIOR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("SENIOR_ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SENIOR;  
ALTER TABLE "PUBLIC"."QUALIFY_NUM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" UNIQUE("QUALIFY_NUMBER");           
ALTER TABLE "PUBLIC"."MEMBER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" UNIQUE("LOGIN_ID");      
ALTER TABLE "PUBLIC"."SCHEDULE" ADD CONSTRAINT "PUBLIC"."FKP5X0MSIMVYJOC19BCWTVWBEOY" FOREIGN KEY("SENIOR_ID") REFERENCES "PUBLIC"."SENIOR"("SENIOR_ID") NOCHECK;             
ALTER TABLE "PUBLIC"."ENTRY_HISTORY" ADD CONSTRAINT "PUBLIC"."FK5SK0ENTCFQ0W5HJIGV50CQMU6" FOREIGN KEY("SENIOR_ID") REFERENCES "PUBLIC"."SENIOR"("SENIOR_ID") NOCHECK;        
ALTER TABLE "PUBLIC"."MEMBER_SENIOR" ADD CONSTRAINT "PUBLIC"."FKFEFXLKLM5RVM0F7RTBJPMBFY2" FOREIGN KEY("SENIOR_ID") REFERENCES "PUBLIC"."SENIOR"("SENIOR_ID") NOCHECK;        
ALTER TABLE "PUBLIC"."EXIT_HISTORY" ADD CONSTRAINT "PUBLIC"."FKO9F7WVTTY61YO9XXX1KTB4I84" FOREIGN KEY("SENIOR_ID") REFERENCES "PUBLIC"."SENIOR"("SENIOR_ID") NOCHECK;         
ALTER TABLE "PUBLIC"."MEMBER_SENIOR" ADD CONSTRAINT "PUBLIC"."FKS2AQLNK76JPKG4U7HFY9P8380" FOREIGN KEY("MEMBER_ID") REFERENCES "PUBLIC"."MEMBER"("MEMBER_ID") NOCHECK;        
